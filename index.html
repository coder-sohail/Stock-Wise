<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StockWise - AI-Powered Investment Platform</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__content">
                <div class="header__logo">
                    <h2>StockWise</h2>
                </div>
                <nav class="header__nav">
                    <button class="btn btn--outline" id="loginBtn">Login</button>
                    <button class="btn btn--primary" id="signupBtn">Sign Up</button>
                </nav>
            </div>
        </div>
    </header>

    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav class="sidebar__nav">
                <button class="sidebar__item active" data-view="dashboard">
                    <span>Dashboard</span>
                </button>
                <button class="sidebar__item" data-view="analyzer">
                    <span>Stock Analyzer</span>
                </button>
                <button class="sidebar__item" data-view="portfolio">
                    <span>Portfolio</span>
                </button>
                <button class="sidebar__item" data-view="advisor">
                    <span>AI Advisor</span>
                </button>
                <button class="sidebar__item" data-view="screener">
                    <span>Stock Screener</span>
                </button>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard View -->
            <div id="dashboard" class="view active">
                <div class="view__header">
                    <h1>Market Dashboard</h1>
                    <p class="view__subtitle">Stay informed with real-time market data and AI insights</p>
                </div>

                <!-- Market Indices -->
                <section class="section">
                    <h2>Market Indices</h2>
                    <div class="indices-grid">
                        <div class="index-card" id="sp500-card">
                            <div class="index-card__header">
                                <h3>S&P 500</h3>
                                <span class="status status--success">+0.52%</span>
                            </div>
                            <div class="index-card__value">4,567.23</div>
                            <div class="index-card__change">+23.45</div>
                        </div>
                        <div class="index-card" id="nasdaq-card">
                            <div class="index-card__header">
                                <h3>NASDAQ</h3>
                                <span class="status status--error">-0.32%</span>
                            </div>
                            <div class="index-card__value">14,234.67</div>
                            <div class="index-card__change">-45.32</div>
                        </div>
                        <div class="index-card" id="dow-card">
                            <div class="index-card__header">
                                <h3>DOW JONES</h3>
                                <span class="status status--success">+0.46%</span>
                            </div>
                            <div class="index-card__value">34,567.89</div>
                            <div class="index-card__change">+156.78</div>
                        </div>
                    </div>
                </section>

                <!-- Top Stocks -->
                <section class="section">
                    <h2>Top Stocks</h2>
                    <div class="stocks-grid" id="topStocks">
                        <!-- Stocks will be populated by JavaScript -->
                    </div>
                </section>

                <!-- Market News -->
                <section class="section">
                    <h2>Latest Market News</h2>
                    <div class="news-container" id="marketNews">
                        <!-- News will be populated by JavaScript -->
                    </div>
                </section>
            </div>

            <!-- Stock Analyzer View -->
            <div id="analyzer" class="view">
                <div class="view__header">
                    <h1>Stock Analyzer</h1>
                    <div class="search-container">
                        <input type="text" class="form-control" id="stockSearch" placeholder="Enter stock symbol (e.g., AAPL)">
                        <button class="btn btn--primary" id="searchBtn">Analyze</button>
                    </div>
                </div>

                <div class="analyzer-content" id="analyzerContent">
                    <div class="analyzer-placeholder">
                        <h3>Search for a stock to begin analysis</h3>
                        <p>Enter a stock symbol above to get AI-powered insights, technical analysis, and recommendations.</p>
                    </div>
                </div>
            </div>

            <!-- Portfolio View -->
            <div id="portfolio" class="view">
                <div class="view__header">
                    <h1>Portfolio Manager</h1>
                    <button class="btn btn--primary" id="addStockBtn">Add Stock</button>
                </div>

                <div class="portfolio-content">
                    <div class="portfolio-summary">
                        <div class="summary-cards">
                            <div class="card">
                                <div class="card__body">
                                    <h3>Total Value</h3>
                                    <div class="metric-value" id="portfolioValue">$0.00</div>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card__body">
                                    <h3>Today's Change</h3>
                                    <div class="metric-value" id="portfolioChange">$0.00</div>
                                </div>
                            </div>
                        </div>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="portfolioChart"></canvas>
                        </div>
                    </div>

                    <div class="portfolio-holdings" id="portfolioHoldings">
                        <div class="empty-state">
                            <h3>No stocks in portfolio</h3>
                            <p>Add your first stock to start tracking your investments.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Advisor View -->
            <div id="advisor" class="view">
                <div class="view__header">
                    <h1>AI Investment Advisor</h1>
                    <p class="view__subtitle">Get personalized investment advice powered by AI</p>
                </div>

                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <div class="chat-message bot-message">
                            <div class="message-content">
                                <p>Hello! I'm your AI investment advisor. Ask me about stocks, market trends, or investment strategies. How can I help you today?</p>
                            </div>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" class="form-control" id="chatInput" placeholder="Ask about stocks, market trends, or investment advice...">
                        <button class="btn btn--primary" id="sendChatBtn">Send</button>
                    </div>
                </div>
            </div>

            <!-- Stock Screener View -->
            <div id="screener" class="view">
                <div class="view__header">
                    <h1>Stock Screener</h1>
                    <p class="view__subtitle">Find investment opportunities with advanced filters</p>
                </div>

                <div class="screener-filters">
                    <div class="filters-row">
                        <div class="form-group">
                            <label class="form-label">Sector</label>
                            <select class="form-control" id="sectorFilter">
                                <option value="">All Sectors</option>
                                <option value="Technology">Technology</option>
                                <option value="Healthcare">Healthcare</option>
                                <option value="Consumer Discretionary">Consumer Discretionary</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Market Cap</label>
                            <select class="form-control" id="marketCapFilter">
                                <option value="">All Sizes</option>
                                <option value="large">Large Cap (>$10B)</option>
                                <option value="mid">Mid Cap ($2B-$10B)</option>
                                <option value="small">Small Cap (<$2B)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">P/E Ratio</label>
                            <input type="number" class="form-control" id="peFilter" placeholder="Max P/E">
                        </div>
                        <button class="btn btn--primary" id="screenBtn">Screen Stocks</button>
                    </div>
                </div>

                <div class="screener-results" id="screenerResults">
                    <div class="results-placeholder">
                        <h3>Set your filters and screen for stocks</h3>
                        <p>Use the filters above to find stocks that match your investment criteria.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Login Modal -->
    <div class="modal hidden" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Login to StockWise</h3>
                <button class="modal-close" id="closeLoginModal">&times;</button>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-control" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">Login</button>
            </form>
        </div>
    </div>

    <!-- Signup Modal -->
    <div class="modal hidden" id="signupModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Sign Up for StockWise</h3>
                <button class="modal-close" id="closeSignupModal">&times;</button>
            </div>
            <form id="signupForm">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" id="signupEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-control" id="signupPassword" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Confirm Password</label>
                    <input type="password" class="form-control" id="confirmPassword" required>
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">Sign Up</button>
            </form>
        </div>
    </div>

    <!-- Add Stock Modal -->
    <div class="modal hidden" id="addStockModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Stock to Portfolio</h3>
                <button class="modal-close" id="closeAddStockModal">&times;</button>
            </div>
            <form id="addStockForm">
                <div class="form-group">
                    <label class="form-label">Stock Symbol</label>
                    <input type="text" class="form-control" id="addStockSymbol" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Quantity</label>
                    <input type="number" class="form-control" id="addStockQuantity" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Purchase Price</label>
                    <input type="number" step="0.01" class="form-control" id="addStockPrice" required>
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">Add Stock</button>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>